# Kapeta Readme
This file contains some structural information about this CLI block.

This file will be overwritten every time you change the CLI block definition in Kapeta.

## Folder Structure
This CLI block is structured as follows:

### Generated files
All files in the following folders are generated by Kapeta - and should not be edited manually.
* ```src/.generated/entities```: Contains the public entities used by the service.
* ```src/.generated/clients```: Contains REST Clients.
* ```scripts/prepare-hosts.ts```: A script to prepare the hosts file for local development.

### Editable files
All other files are editable - and will not be overwritten by Kapeta unless explictly mentioned in the file.

* ```src/index```: Contains the programs starting point. This is where you should add your business logic.

### Path alias for generated files

To import generated files you can use the following path alias:
```typescript
import { MyEntity } from 'generated:entities/MyEntity';
```


## REST Clients
You'll find the REST clients in the following folder: ```src/.generated/client```

See below for details on how to use the REST clients.

### sample
To use the "sample" REST Client(s) - simply add the following code to your service:

```typescript
import { initRestClients } from 'generated:clients';

const { sampleClient } = initRestClients();
```

## Environment Variables

The `.env` or `.env.development` files has to contain the following environment variables:

- `KAPETA_CONSUMER_SERVICE_SAMPLE_REST`

The values will be updated automatically in `.env.development` when you run the CLI in dev mode (`npm run start:dev` or `npm run watch`). 

To run the CLI in production mode, you need to set the environment variables manually in the `.env` file.

